import{a as v,r,d as C,b as E,j as e,m as f,L as S,V as n}from"./index-JePda7sN.js";function F(){const{error:m,loading:x,resetPassword:p,resetError:w}=v(),[i,h]=r.useState(""),[d,g]=r.useState(""),[y,t]=r.useState(!1),[b,o]=r.useState(!1),j=C(),{emailTyped:c}=j.state||"",l=E();r.useEffect(function(){if(w(),!c)return l("/forgot-password/send-otp")},[c,l]);function N(s,u){let a=!0;return s?s.length<8?(t(!0),n.error("Password must be at least 8 characters."),a=!1):t(!1):(t(!0),n.error("Password is required."),a=!1),u?u!==s?(o(!0),n.error("Passwords do not match."),a=!1):o(!1):(o(!0),n.error("Confirm Password id required"),a=!1),a}async function P(){if(!N(i,d))return;await p(c,i,d)&&l("/login")}return e.jsx("section",{className:"my-auto flex w-full flex-col md:items-center",children:e.jsxs(f.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"mx-5 my-14 flex flex-col justify-between space-y-8 rounded-lg bg-white px-5 py-7 shadow-lg md:min-w-[600px] md:p-13 md:shadow-xl",children:[e.jsx("div",{className:"flex items-center gap-3 space-y-1",children:e.jsx("h1",{className:"natours-gradient-text text-2xl font-bold",children:"Change your password"})}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("label",{htmlFor:"password",className:"font-semibold text-stone-600",children:"New Password"}),e.jsx("input",{type:"password",className:`input-natours w-full text-stone-600 ${y?"border-3 border-red-400 focus:ring-0":""}`,placeholder:"••••••••",name:"password",value:i,onChange:s=>{t(!1),h(s.target.value.trim())}})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("label",{htmlFor:"confirm-password",className:"font-semibold text-stone-600",children:"Confirm Password"}),e.jsx("input",{type:"password",className:`input-natours w-full text-stone-600 ${b?"border-3 border-red-400 focus:ring-0":""}`,placeholder:"•••••••• ",name:"confirmPassword",value:d,onChange:s=>{o(!1),g(s.target.value.trim())}})]}),e.jsx("p",{className:"font-semibold text-red-400",children:m}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(f.button,{whileTap:{scale:.8},transition:{type:"keyframes",duration:.01},className:"btn-primary w-1/2 px-4 py-3 text-xl",onClick:P,children:x?e.jsx(S,{}):"Save"}),e.jsx(f.button,{whileTap:{scale:.8},transition:{type:"keyframes",duration:.01},className:"border-natours w-1/2 rounded-full border-3 font-bold text-stone-800",onClick:()=>l("/login"),children:"cancel"})]})]})})}export{F as default};
