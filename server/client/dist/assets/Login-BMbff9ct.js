import{a as b,r as a,b as N,j as e,m as u,N as f,L as E,V as c}from"./index-JePda7sN.js";import{v as L}from"./index-DbaFSfWT.js";function A(){const{loading:r,login:p,isAuthenticated:m}=b(),[h,o]=a.useState(!1),[g,i]=a.useState(!1),[l,j]=a.useState(""),[n,v]=a.useState(""),x=N();function w(s,d){let t=!0;return s?L.isEmail(s)||(o(!0),c.error("Incorrect email address format!"),t=!1):(o(!0),t=!1),d?d.length<8&&(i(!0),c.error("Password length must be at least 8 characters"),t=!1):(i(!0),t=!1),!t&&(!s||!d)&&c.error("Please provide both email and password!"),t}async function y(s){s.preventDefault(),w(l.trim(),n.trim())&&await p(l.trim(),n.trim())}return a.useEffect(()=>{m&&!r&&x("/tours")},[m,r,x]),e.jsx("section",{className:"my-auto flex w-full flex-col md:items-center",children:e.jsx("form",{children:e.jsxs(u.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"mx-5 my-14 flex flex-col justify-between space-y-8 rounded-lg bg-white px-5 py-7 shadow-lg md:min-w-[600px] md:p-13 md:shadow-xl",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("h1",{className:"natours-gradient-text text-2xl font-bold",children:"Log into Your account"}),e.jsxs(f,{to:"/signup",className:"font-semibold text-stone-600",children:[e.jsx("span",{className:"mr-2 text-stone-800/50",children:"Don't have an Account?"}),"Signup"]})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("div",{children:e.jsx("label",{htmlFor:"email",className:"font-semibold text-stone-600",children:"Email Address"})}),e.jsx("input",{type:"text",className:`input-natours w-full text-stone-600 ${h?"border-3 border-red-400 focus:ring-0":""}`,placeholder:"you@example.com",value:l,onChange:s=>{j(s.target.value),o(!1)}})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("div",{children:e.jsx("label",{htmlFor:"password",className:"font-semibold text-stone-600",children:"Password"})}),e.jsx("input",{type:"password",className:`input-natours w-full text-stone-600 ${g&&"border-3 border-red-400 focus:ring-0"}`,placeholder:"••••••••",value:n,onChange:s=>{v(s.target.value),i(!1)}})]}),e.jsx("div",{children:e.jsx(f,{to:"/forgot-password/send-otp",className:"text-natours font-semibold",state:{emailTyped:l},children:"Forgot Password?"})}),e.jsx("div",{children:e.jsx(u.button,{whileTap:{scale:.8},transition:{type:"keyframes",duration:.01},className:"btn-primary w-1/2 py-3 md:w-1/3",onClick:y,disabled:r,children:r?e.jsx(E,{}):"Login"})})]})})})}export{A as default};
